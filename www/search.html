<ons-page ng-controller="SearchController">
    <ons-toolbar>
        <div class="center">Search</div>
    </ons-toolbar>

    <!-- BEGIN SEARCH FORM -->
    <div class="search-form">
        <ons-list>
            <ons-list-header>Location</ons-list-header>

            <ons-list-item modifier="tappable">
                <label class="checkbox checkbox--list-item">
                    <input type="checkbox" ng-model="searchFilter.location.useLocation" ng-click="setSearchLocation()">
                    <div class="checkbox__checkmark checkbox--list-item__checkmark"></div>
                    Nearby
                </label>
            </ons-list-item>

            <ons-list-item ng-hide="searchFilter.location.useLocation">
                <input type="text"
                       value=""
                       placeholder="Region"
                       class="text-input advanced-search-text"
                       ng-model="searchFilter.region_name">
            </ons-list-item>
            <ons-list-item ng-hide="searchFilter.location.useLocation">
                <input type="text"
                       value=""
                       placeholder="Name"
                       class="text-input advanced-search-text"
                       ng-model="searchFilter.store_name">
            </ons-list-item>
        </ons-list>

        <ons-list>
            <ons-list-header>Filter</ons-list-header>
            <ons-list-item modifier="tappable" ng-repeat="feature in userSettings.features">
                <label class="checkbox checkbox--list-item">
                    <input type="checkbox"
                           ng-checked="searchFilter.features.indexOf(feature) > -1"
                           ng-click="featuresToggleCheck(feature)">

                    <div class="checkbox__checkmark checkbox--list-item__checkmark"></div>
                    {{feature}}
                </label>
            </ons-list-item>
        </ons-list>

        <div style="text-align: center; margin-top: 10px;">
            <ons-button modifier="large" ng-click="searchStores()" ng-disabled="isSearching" class="flat">
                <ons-icon icon="fa-search"></ons-icon>
                Search
            </ons-button>
        </div>
    </div>
    <!-- END SEARCH FORM -->

</ons-page>


